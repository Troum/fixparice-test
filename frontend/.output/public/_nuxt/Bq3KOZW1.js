import{e as _,f as b,m as h,n as x,u as v,c as j,a as e,b as n,w as c,i as d,j as y,o as g,d as w,h as C,v as $}from"./DwR0AEf0.js";import{_ as k}from"./COr5thys.js";import{J as B}from"./BD53Fd1c.js";import"./DaMzFuD0.js";import"./Cz8f_uTG.js";import"./BiHkM03E.js";const V={class:"min-h-screen p-4"},A={class:"max-w-2xl mx-auto"},N={class:"mb-6"},U={class:"flex items-start gap-3"},O=_({__name:"create",setup(J){const a=b(),i=h(),{createVacancy:u}=$(),r=x(!1),m=async l=>{r.value=!0;try{const s=await u(l);i.add({title:"Успех!",description:"Вакансия успешно создана",color:"success"}),s&&s.id?a.push(`/jobs/${s.id}`):a.push("/jobs")}catch(s){console.error("Ошибка создания вакансии:",s);let o="Не удалось создать вакансию";if(s.data&&s.data.errors){const t=s.data.errors;Array.isArray(t)?o=t.join(", "):typeof t=="object"&&(o=Object.values(t).flat().join(", "))}i.add({title:"Ошибка создания",description:o,color:"error"})}finally{r.value=!1}},f=()=>{a.push("/jobs")};return v({title:"Создание вакансии"}),(l,s)=>{const o=y,t=C,p=k;return g(),j("div",V,[e("div",A,[e("div",N,[n(o,{icon:"i-lucide-arrow-left",variant:"ghost",onClick:s[0]||(s[0]=S=>d(a).push("/jobs"))},{default:c(()=>[...s[1]||(s[1]=[w(" Назад к списку ",-1)])]),_:1})]),n(B,{loading:d(r),onSubmit:m,onCancel:f},null,8,["loading"]),n(p,{class:"mt-6 border-blue-200 bg-blue-50"},{default:c(()=>[e("div",U,[n(t,{name:"i-lucide-info",class:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s[2]||(s[2]=e("div",{class:"text-sm text-blue-800"},[e("p",{class:"font-medium mb-1"},"Советы по созданию вакансии:"),e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Используйте четкое и понятное название должности"),e("li",null,"Подробно опишите обязанности и требования"),e("li",null,"Укажите реальный размер заработной платы"),e("li",null,"Проверьте правописание перед публикацией")])],-1))])]),_:1})])])}}});export{O as default};
