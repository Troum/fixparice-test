import{e as w,$ as U,q as D,o as m,w as l,a as t,b as o,i as s,d as _,az as k,t as c,c as x,s as I,F as N,r as j,g as S,u as z,j as F}from"./DwR0AEf0.js";import{_ as $}from"./Do5xAnQH.js";import{_ as C}from"./COr5thys.js";import{u as V}from"./st4SvOgC.js";const L={class:"flex items-center gap-2"},q={class:"space-y-4"},A={class:"space-y-2"},E={class:"text-sm text-gray-700"},H={key:0,class:"text-sm text-gray-500 italic"},M=w({__name:"RoleInfo",setup(B){const{getRoleDisplayName:a,getRoleBadgeColor:f,canViewVacancies:v,canCreateVacancies:h,canUpdateVacancies:g,canDeleteVacancies:r,canViewStats:e,canManageUsers:p}=V(),d=U(()=>{const n=[];return v.value&&n.push("Просмотр вакансий"),h.value&&n.push("Создание вакансий"),g.value&&n.push("Редактирование вакансий"),r.value&&n.push("Удаление вакансий"),e.value&&n.push("Просмотр статистики"),p.value&&n.push("Управление пользователями"),n});return(n,i)=>{const u=k,y=$,R=C;return m(),D(R,null,{header:l(()=>[t("div",L,[o(u,{name:"i-lucide-shield-check",class:"w-5 h-5"}),i[0]||(i[0]=t("h3",{class:"text-lg font-semibold"},"Информация о роли",-1))])]),default:l(()=>[t("div",q,[t("div",null,[i[1]||(i[1]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Текущая роль",-1)),o(y,{color:s(f)(),variant:"subtle",size:"lg",class:"flex items-center gap-2 w-fit"},{default:l(()=>[o(u,{name:"i-lucide-user-check",class:"w-4 h-4"}),_(" "+c(s(a)()),1)]),_:1},8,["color"])]),t("div",null,[i[2]||(i[2]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Доступные действия",-1)),t("div",A,[(m(!0),x(N,null,j(s(d),b=>(m(),x("div",{key:b,class:"flex items-center gap-2"},[o(u,{name:"i-lucide-check",class:"w-4 h-4 text-green-600"}),t("span",E,c(b),1)]))),128)),s(d).length===0?(m(),x("div",H," Нет доступных действий ")):I("",!0)])])])]),_:1})}}}),O=Object.assign(M,{__name:"RoleInfo"}),T={class:"min-h-screen p-4"},G={class:"max-w-4xl mx-auto space-y-6"},J={class:"mb-6"},K={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},P={class:"flex items-center gap-2"},Q={class:"space-y-4"},W={class:"flex items-center gap-4"},X={class:"w-16 h-16 bg-gradient-to-r from-slate-500 to-gray-600 rounded-full flex items-center justify-center"},Y={class:"text-lg font-semibold text-gray-900"},Z={class:"text-gray-600"},tt={class:"grid grid-cols-2 gap-4 pt-4 border-t"},et={class:"text-sm text-gray-900"},st={class:"text-sm text-gray-900"},ot={class:"text-sm text-gray-900"},at={class:"text-sm text-gray-900"},nt={class:"flex items-center gap-2"},lt={class:"flex gap-3"},ut=w({__name:"index",setup(B){const{user:a,logout:f}=S(),{getRoleDisplayName:v,getRoleBadgeColor:h}=V();z({title:"Профиль пользователя"});const g=r=>new Date(r*1e3).toLocaleString("ru-RU");return(r,e)=>{const p=F,d=k,n=$,i=C,u=O;return m(),x("div",T,[t("div",G,[t("div",J,[o(p,{icon:"i-lucide-arrow-left",variant:"ghost",onClick:e[0]||(e[0]=y=>r.$router.push("/jobs"))},{default:l(()=>[...e[1]||(e[1]=[_(" Назад к вакансиям ",-1)])]),_:1})]),e[9]||(e[9]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Профиль пользователя"),t("p",{class:"text-gray-600"},"Информация об аккаунте и правах доступа")],-1)),t("div",K,[o(i,null,{header:l(()=>[t("div",P,[o(d,{name:"i-lucide-user",class:"w-5 h-5"}),e[2]||(e[2]=t("h3",{class:"text-lg font-semibold"},"Основная информация",-1))])]),default:l(()=>[t("div",Q,[t("div",W,[t("div",X,[o(d,{name:"i-lucide-user",class:"w-8 h-8 text-white"})]),t("div",null,[t("h4",Y,c(s(a)?.username),1),t("p",Z,c(s(a)?.email),1),o(n,{color:s(h)(),variant:"subtle",class:"mt-1"},{default:l(()=>[_(c(s(v)()),1)]),_:1},8,["color"])])]),t("div",tt,[t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"ID пользователя",-1)),t("dd",et,"#"+c(s(a)?.id),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Статус",-1)),t("dd",st,[o(n,{color:s(a)?.status===1?"success":"error",variant:"subtle"},{default:l(()=>[_(c(s(a)?.status===1?"Активный":"Неактивный"),1)]),_:1},8,["color"])])]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Дата регистрации",-1)),t("dd",ot,c(s(a)?.created_at?g(s(a).created_at):"-"),1)]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Последнее обновление",-1)),t("dd",at,c(s(a)?.updated_at?g(s(a).updated_at):"-"),1)])])])]),_:1}),o(u)]),o(i,null,{header:l(()=>[t("div",nt,[o(d,{name:"i-lucide-settings",class:"w-5 h-5"}),e[7]||(e[7]=t("h3",{class:"text-lg font-semibold"},"Действия",-1))])]),default:l(()=>[t("div",lt,[o(p,{icon:"i-lucide-log-out",color:"error",variant:"outline",onClick:s(f)},{default:l(()=>[...e[8]||(e[8]=[_(" Выйти из системы ",-1)])]),_:1},8,["onClick"])])]),_:1})])])}}});export{ut as default};
