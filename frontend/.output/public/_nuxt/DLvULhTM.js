import{c as V,a as r,_ as b,b as U,d as h}from"./DaMzFuD0.js";import{e as j,ab as $,m as g,u as B,c as C,b as s,w as t,i as a,ax as F,o as N,a as n,j as R,d as m,v as T,ay as u,f as q}from"./DwR0AEf0.js";import{_ as A}from"./COr5thys.js";import"./Cz8f_uTG.js";const L={class:"flex justify-center items-center min-h-screen w-full"},S={class:"flex flex-col items-center justify-center gap-y-4"},z={class:"flex items-center justify-end"},E={class:"flex items-center justify-center py-1"},K=j({__name:"index",setup(H){const _=V({email:r().email("Недействительный email").required("Поле обязательно для заполнения"),password:r().min(8,"Пароль должен содержать минимум 8 символов").required("Поле обязательно для заполнения")}),o=$({email:void 0,password:void 0}),p=g(),{login:f}=T(),x=i=>{f(i.data).then(e=>{u().setUser(e.data?.user),u().setToken({access_token:e.data?.access_token,token_type:e.data?.token_type,expires_at:e.data?.expires_at}),q().push("/jobs").then(()=>p.add({title:"Завершено успешно!",description:"Успешно вошли в систему",color:"success"}))})};return B({title:"Вход в систему"}),(i,e)=>{const c=h,d=U,w=R,y=F("RouterLink"),v=A,k=b;return N(),C("div",L,[s(k,{schema:a(_),state:a(o),class:"space-y-4 w-[480px]",onSubmit:x},{default:t(()=>[s(v,{class:"shadow-lg"},{header:t(()=>[...e[2]||(e[2]=[n("div",{class:"flex items-center justify-center"},[n("span",{class:"text-2xl"},"Вход в панель администрирования")],-1)])]),footer:t(()=>[n("div",z,[s(w,{"trailing-icon":"i-lucide-log-in",size:"lg",type:"submit"},{default:t(()=>[...e[3]||(e[3]=[m(" Войти ",-1)])]),_:1})]),n("div",E,[s(y,{class:"underline text-sm",to:"/"},{default:t(()=>[...e[4]||(e[4]=[m("На главную",-1)])]),_:1})])]),default:t(()=>[n("div",S,[s(d,{label:"Логин для входа",name:"email",class:"w-full"},{default:t(()=>[s(c,{modelValue:a(o).email,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).email=l),placeholder:"Введите email"},null,8,["modelValue"])]),_:1}),s(d,{label:"Пароль для входа",name:"password",class:"w-full"},{default:t(()=>[s(c,{modelValue:a(o).password,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).password=l),type:"password",placeholder:"Введите пароль"},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["schema","state"])])}}});export{K as default};
